# Go SCIM Sync Configuration File
# This configuration was generated by the setup wizard
# For more information, see: https://github.com/gobeyondidentity/google-workspace-provisioner

# Application settings
app:
  log_level: "info"          # Options: debug, info, warn, error
  test_mode: true            # Set to false to perform actual changes

# Google Workspace configuration
google_workspace:
  domain: "byndid-mail.com"                    # Your Google Workspace domain
  super_admin_email: "nmelo@byndid-mail.com"  # Super admin email for impersonation
  service_account_key_path: "/Users/nmelo/Desktop/google-workspace-provisioner/cs-poc-f9baheqxxjjfmqtmt2vkzkx-1b853ba328b9.json"  # Path to service account JSON file

# Beyond Identity configuration  
beyond_identity:
  api_token: ""                                          # Your Beyond Identity API token
  scim_base_url: "https://api.byndid.com/scim/v2"       # SCIM API base URL
  native_api_url: "https://api.byndid.com/v2"           # Native API base URL  
  group_prefix: "GoogleSCIM_"                            # Prefix for created groups

# Synchronization settings
sync:
  groups:                                      # List of Google Workspace groups to sync
    - "scim-test@byndid-mail.com"
  retry_attempts: 3                            # Number of retry attempts for failed operations
  retry_delay_seconds: 30                      # Delay between retry attempts

# Server mode settings (for 'server' command)
server:
  port: 8080                                   # HTTP server port
  schedule_enabled: false                      # Enable automatic sync scheduling
  schedule: "0 */6 * * *"                     # Cron schedule

# Usage:
# 1. Validate config: ./scim-sync validate-config
# 2. Run one-time sync: ./scim-sync run
# 3. Start server mode: ./scim-sync server
#
# Server endpoints (when running in server mode):
# - Health check: GET http://localhost:8080/health
# - Manual sync: POST http://localhost:8080/sync
# - Metrics: GET http://localhost:8080/metrics
# - Version: GET http://localhost:8080/version
